

1.
작년엔 통신들도 블로킹이어서, Serial.readStringUntil('\n') 함수의 기본 time out 1초로 받았었고, 이 때는 1초도 원래 이런 건 줄 알고 time out이란 것도 몰랐었어.
이번에 받은 데이터를 ASCIICode로 분석해보니, 데이터 전송만 \r\n으로 시작하더라.
->
해결 방법
1.
app쪽에서 종료로 인식할 아무 문자열을 붙여서 보내줘.
->
\r이나 \n으로 하면 안 돼. 두 번 인식해서, 이걸 또 코드로 처리해야 해.
1.
Serial.readStringUntil() 이 함수는, 종료 문자가 나올 때까지 블로킹인데, baudRate(9600)으로 10개 전송에 대략 1.04ms이니까,
처음 버퍼에 데이터가 들어오면 대강 10ms 기다렸다가 저 블로킹 함수를 실행하면, 이론적으로 블로킹 없이 보낼 수 있어.
->
이걸로 하자.
->
데이터를 오는 족족 받는 건 그대로 하고.
처음 데이터 오면 시간을 저장, 일정 시간 이후에 여태 받은 데이터를 하나의 통신으로 저장한다.
baudRate(9600)으로 10개 전송에 대략 1.04ms이니까, RECV_INTERVAL은 통 크게 50ms로.